component Line {
    in property <length> x1; 
    in property <length> x2;
    in property <length> y1;
    in property <length> y2;

    in property <color> color : blue; //默认颜色
    in property <length> w:1px; //默认线宽

    x:(x1<x2?x1:x2);
    y:(y1<y2?y1:y2);

    width: (x2 -x1).abs() + w;
    height: (y2 -y1).abs() + w;

    Path {
        stroke: color;
        stroke-width: w;
        MoveTo {x:x1/1px; y:y1/1px;}
        LineTo {x:x2/1px; y:y2/1px;}
    }
}

component Linegraph {
    in property <[float]> yy; //输入
    in property <float> step:1; //默认步长1（两个点间距）

    in property <color> bg_color: transparent;//默认背景颜色透明
    in property <color> bg_border_color:black;//默认边框颜色黑色
    in property <length> bg_border_width:1px; //默认边框宽度
    in property <length> line_width:1px;//默认线宽度
     
    Rectangle {  
        background: bg_color;
        border-color: bg_border_color;
        border-width: bg_border_width;
        
        for i in (yy.length -1) : Line{
            w:line_width;
            x1: parent.x + i*step*1px; 
            y1: (parent.y+parent.height -1px) - yy[i]*1px;
            x2: parent.x + (i+1)*step*1px;  
            y2: (parent.y+parent.height -1px) - yy[i+1]*1px;     
        }
    }
}